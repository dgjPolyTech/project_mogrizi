<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="css/croquis.css" />
  <title>모그리지 - 크로키 연습</title>
  <script>
    let croquisImages = [];
    let croquisIndex = 0;
    let croquisTimer = null;

    function showCroquisImage(src) {
      document.getElementById("croquisImg").src = src;
    }

    function generateCroquisArray(count) {
      croquisImages = [];
      for (let i = 1; i <= count; i++) {
        croquisImages.push(`imgs/action/g${String(i).padStart(2, '0')}.jpg`);
      }
    }

    function startCroquis(intervalSeconds = 60) {
      clearInterval(croquisTimer);
      croquisIndex = 0;
      if (croquisImages.length === 0) return;
      showCroquisImage(croquisImages[croquisIndex]);

      croquisTimer = setInterval(() => {
        croquisIndex = (croquisIndex + 1) % croquisImages.length;
        showCroquisImage(croquisImages[croquisIndex]);
      }, intervalSeconds * 1000);
    }

    function stopCroquis() {
      clearInterval(croquisTimer);
    }

    function onStartClicked() {
      const count = parseInt(document.getElementById("imageCount").value);
      const interval = parseInt(document.getElementById("intervalTime").value);
      if (isNaN(count) || count <= 0) {
        alert("이미지 개수를 올바르게 입력해주세요.");
        return;
      }
      generateCroquisArray(count);
      startCroquis(interval);
    }
  </script>
</head>
<body>
  <div class="croquis-title">
    <h2>크로키 연습 모드</h2>
  </div>
  <div class="croquis-contents">
    <div class="croquis-settings">
      <label>이미지 수:
        <input type="number" id="imageCount" min="1" placeholder="예: 10" />
      </label>
      <label>간격(초):
        <select id="intervalTime">
          <option value="30">30초</option>
          <option value="60" selected>1분</option>
          <option value="90">1분 30초</option>
        </select>
      </label>
      <button onclick="onStartClicked()">시작</button>
      <button onclick="stopCroquis()">정지</button>
    </div>

    <div class="croquis-imgWrapper">
      <img id="croquisImg" src="imgs/action/g01.jpg" alt="크로키 이미지" />
    </div>
  </div>
</body>
</html>
